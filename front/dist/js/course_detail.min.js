function CourseDetail(){}CourseDetail.prototype.run=function(){this.initPlayer()},CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"ab426766b75c489898f003d2ecb2876f"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm9TcGFuIiwiJCIsInZpZGVvX3VybCIsImF0dHIiLCJjb3Zlcl91cmwiLCJjb3Vyc2VfaWQiLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJ0b2tlbkVuY3J5cHQiLCJhayIsIm9uIiwiZSIsInRlc3QiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzdG9wIiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLElBQU0sV0FDekJDLEtBQUtDLGNBR1RKLGFBQWFDLFVBQVVHLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFFL0JHLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzlDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FiWSxxQ0FlaEJiLEVBQU9jLEdBQUcsYUFBYyxTQUFVQyxHQUN6QixPQUFPQyxLQUFLRCxFQUFFVixPQUduQlksUUFBUUMsSUFBSSxDQUNSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN6QixFQUNURyxVQUFhQSxHQUVqQnVCLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBTW1CLFFBRXhCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3ZCLEVBQU82QixRQUdmQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTTVCcEMsRUFBRSxZQUNxQixJQUFJTixjQUNWRSIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpIHtcclxuXHJcbn1cclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0UGxheWVyKCk7XHJcbn1cclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUuaW5pdFBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB2aWRlb0luZm9TcGFuID0gJChcIiN2aWRlby1pbmZvXCIpO1xyXG4gICAgdmFyIHZpZGVvX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtdmlkZW8tdXJsXCIpO1xyXG4gICAgdmFyIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtY292ZXItdXJsXCIpO1xyXG4gICAgdmFyIGNvdXJzZV9pZCA9IHZpZGVvSW5mb1NwYW4uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcclxuICAgIHZhciBhY2Nlc3NLZXkgPSAnYWI0MjY3NjZiNzVjNDg5ODk4ZjAwM2QyZWNiMjg3NmYnO1xyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICBpbWFnZTogY292ZXJfdXJsLFxyXG4gICAgICAgIGF1dG9zdGFydDogZmFsc2UsXHJcbiAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICB0b2tlbkVuY3J5cHQ6IHRydWUsXHJcbiAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAgICAgYWs6IGFjY2Vzc0tleVxyXG4gICAgfSk7XHJcbiAgICBwbGF5ZXIub24oJ2JlZm9yZVBsYXknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghL20zdTgvLnRlc3QoZS5maWxlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgICAgICdjb3Vyc2VfaWQnOiBjb3Vyc2VfaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsIHRva2VuKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0luZm8ocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmYWlsJzogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb3Vyc2VEZXRhaWwgPSBuZXcgQ291cnNlRGV0YWlsKCk7XHJcbiAgICBjb3Vyc2VEZXRhaWwucnVuKCk7XHJcbn0pIl19
