function NewsCategory(){}NewsCategory.prototype.run=function(){this.listendAddCategoryEvent(),this.listenEditNewsCategoryEvent(),this.listenDeleteCategoryEvent()},NewsCategory.prototype.listendAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){xfzajax.post({url:"/cms/add_news_category/",data:{name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},NewsCategory.prototype.listenEditNewsCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),n=t.attr("data-name");xfzalert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:n,confirmCallback:function(t){xfzajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},NewsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"您确定要删除这个分类吗?",confirmCallback:function(){xfzajax.post({url:"/cms/delete_news_category/",data:{pk:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},$(function(){(new NewsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfY2F0ZWdvcnkuanMiXSwibmFtZXMiOlsiTmV3c0NhdGVnb3J5IiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImxpc3RlbmRBZGRDYXRlZ29yeUV2ZW50IiwibGlzdGVuRWRpdE5ld3NDYXRlZ29yeUV2ZW50IiwibGlzdGVuRGVsZXRlQ2F0ZWdvcnlFdmVudCIsIiQiLCJjbGljayIsInhmemFsZXJ0IiwiYWxlcnRPbmVJbnB1dCIsInRpdGxlIiwicGxhY2Vob2xkZXIiLCJjb25maXJtQ2FsbGJhY2siLCJpbnB1dFZhbHVlIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwibmFtZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImNsb3NlIiwidHIiLCJwYXJlbnQiLCJwayIsImF0dHIiLCJ2YWx1ZSIsImFsZXJ0Q29uZmlybSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLElBQU0sV0FDekJDLEtBQUtDLDBCQUNMRCxLQUFLRSw4QkFDTEYsS0FBS0csNkJBR1ROLGFBQWFDLFVBQVVHLHdCQUEwQixXQUNoQ0csRUFBRSxZQUNSQyxNQUFNLFdBQ1RDLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsU0FDVEMsWUFBZSxVQUNmQyxnQkFBbUIsU0FBVUMsR0FDekJDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTywwQkFDUEMsS0FBUSxDQUFDQyxLQUFRTCxHQUNqQk0sUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ2JDLE9BQU9DLFNBQVNDLFNBRWhCZixTQUFTZ0IsaUJBU3JDekIsYUFBYUMsVUFBVUksNEJBQThCLFdBRW5DRSxFQUFFLGFBQ1JDLE1BQU0sV0FDVixJQUNJa0IsRUFEYW5CLEVBQUVKLE1BQ0N3QixTQUFTQSxTQUN6QkMsRUFBS0YsRUFBR0csS0FBSyxXQUNiVixFQUFPTyxFQUFHRyxLQUFLLGFBQ25CcEIsU0FBU0MsY0FBYyxDQUNuQkMsTUFBUyxTQUNUQyxZQUFlLFlBQ2ZrQixNQUFTWCxFQUNUTixnQkFBbUIsU0FBVUMsR0FDekJDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTSwyQkFDTkMsS0FBTyxDQUNIVSxHQUFLQSxFQUNMVCxLQUFPTCxHQUVYTSxRQUFVLFNBQVNDLEdBQ0ssTUFBakJBLEVBQWEsS0FDWkMsT0FBT0MsU0FBU0MsU0FFaEJmLFNBQVNnQixpQkFTckN6QixhQUFhQyxVQUFVSywwQkFBNEIsV0FDL0JDLEVBQUUsZUFDUkMsTUFBTSxXQUNaLElBRUlvQixFQUZhckIsRUFBRUosTUFDQ3dCLFNBQVNBLFNBQ2pCRSxLQUFLLFdBQ2pCcEIsU0FBU3NCLGFBQWEsQ0FDbEJwQixNQUFRLGVBQ1JFLGdCQUFrQixXQUNkRSxRQUFRQyxLQUFLLENBQ1RDLElBQU0sNkJBQ05DLEtBQU8sQ0FBQ1UsR0FBS0EsR0FDYlIsUUFBVSxTQUFTQyxHQUNLLE1BQWpCQSxFQUFhLEtBQ1pDLE9BQU9DLFNBQVNDLFNBRWhCZixTQUFTZ0IsaUJBU3JDbEIsRUFBRSxZQUNpQixJQUFJUCxjQUNWRSIsImZpbGUiOiJuZXdzX2NhdGVnb3J5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3NDYXRlZ29yeSgpIHtcclxuXHJcbn1cclxuXHJcbk5ld3NDYXRlZ29yeS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5kQWRkQ2F0ZWdvcnlFdmVudCgpXHJcbiAgICB0aGlzLmxpc3RlbkVkaXROZXdzQ2F0ZWdvcnlFdmVudCgpXHJcbiAgICB0aGlzLmxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQoKVxyXG59XHJcblxyXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbmRBZGRDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFkZEJ0biA9ICQoXCIjYWRkLWJ0blwiKTtcclxuICAgIGFkZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XHJcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCLmt7vliqDmlrDpl7vliIbnsbtcIixcclxuICAgICAgICAgICAgXCJwbGFjZWhvbGRlclwiOiBcIuivt+i+k+WFpeaWsOmXu+WIhuexu1wiLFxyXG4gICAgICAgICAgICBcImNvbmZpcm1DYWxsYmFja1wiOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzogXCIvY21zL2FkZF9uZXdzX2NhdGVnb3J5L1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogeyduYW1lJzogaW5wdXRWYWx1ZX0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbk5ld3NDYXRlZ29yeS5wcm90b3R5cGUubGlzdGVuRWRpdE5ld3NDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGVkaXRCdG4gPSAkKFwiLmVkaXQtYnRuXCIpO1xyXG4gICAgZWRpdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRCdG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cihcImRhdGEtcGtcIik7XHJcbiAgICAgICAgdmFyIG5hbWUgPSB0ci5hdHRyKFwiZGF0YS1uYW1lXCIpO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0T25lSW5wdXQoKHtcclxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIuS/ruaUueWIhuexu+WQjeensFwiLFxyXG4gICAgICAgICAgICBcInBsYWNlaG9sZGVyXCI6IFwi6K+36L6T5YWl5paw55qE5YiG57G75ZCN56ewXCIsXHJcbiAgICAgICAgICAgIFwidmFsdWVcIjogbmFtZSxcclxuICAgICAgICAgICAgXCJjb25maXJtQ2FsbGJhY2tcIjogZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6XCIvY21zL2VkaXRfbmV3c19jYXRlZ29yeS9cIixcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOnBrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6aW5wdXRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddPT09MjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KSlcclxuICAgIH0pXHJcbn1cclxuXHJcbk5ld3NDYXRlZ29yeS5wcm90b3R5cGUubGlzdGVuRGVsZXRlQ2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgZGVsZXRlQnRuID0gJChcIi5kZWxldGUtYnRuXCIpO1xyXG4gICAgZGVsZXRlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHRyID0gY3VycmVudEJ0bi5wYXJlbnQoKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBrJyk7XHJcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgJ3RpdGxlJzpcIuaCqOehruWumuimgeWIoOmZpOi/meS4quWIhuexu+WQlz9cIixcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAndXJsJzpcIi9jbXMvZGVsZXRlX25ld3NfY2F0ZWdvcnkvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOnsncGsnOnBrfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PT0yMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2F0ZWdvcnkgPSBuZXcgTmV3c0NhdGVnb3J5KCk7XHJcbiAgICBjYXRlZ29yeS5ydW4oKTtcclxufSkiXX0=
